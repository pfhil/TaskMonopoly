# TaskMonopoly

Решенное тестовое от компании МОНОПОЛИЯ

<details>
  <summary>Текст задания</summary>

Разработать консольное .NET приложение для склада, удовлетворяющее следующим требованиям:

- Построить иерархию классов, описывающих объекты на складе - паллеты и коробки:

    - Помимо общего набора стандартных свойств (ID, ширина, высота, глубина, вес), паллета может содержать в себе коробки.

    - У коробки должен быть указан срок годности или дата производства. Если указана дата производства, то срок годности вычисляется из даты производства плюс 100 дней.

    - Срок годности паллеты вычисляется из наименьшего срока годности коробки, вложенной в паллету. Вес паллеты вычисляется из суммы веса вложенных коробок + 30кг.

    - Объем коробки вычисляется как произведение ширины, высоты и глубины.

    - Объем паллеты вычисляется как сумма объема всех находящихся на ней коробок и произведения ширины, высоты и глубины паллеты.

    - Каждая коробка не должна превышать по размерам паллету (по ширине и длине).

- Консольное приложение:

    - (Опционально) Организовать запись и чтение коллекции в/из файл(а).

    - Вывести на экран:

        - Сгруппировать все паллеты по сроку годности, отсортировать по возрастанию срока годности, в каждой группе отсортировать паллеты по весу.

        - 3 паллеты, которые содержат коробки с наибольшим сроком годности, отсортированные по возрастанию объема.

- (Опционально) Покрыть функционал unit-тестами.

</details>

# Установка и настройка

## Предварительные требования

1. Удостоверьтесь, что на компьютере установлен пакет SDK для .NET 7.0. Скачать его можно с официального сайта https://dotnet.microsoft.com/en-us/download/dotnet/7.0

## Установка и запуск

<details>
  <summary>Используя терминал</summary>

1. Клонируйте приложение с помощью команды git:
```
git clone https://github.com/pfhil/TaskMonopoly.git
```
2. Перейдите в каталог проекта с помощью командной строки:
```
cd TaskMonopoly
```
3. Постройте проект при помощи:
```
dotnet build
```
4. Перейдите в консольный проект:
```
cd TaskMonopoly.Console
```
5. Запустите приложение:
```
dotnet run
```

</details>

<details>
  <summary>Используя Visual Studio 2022</summary>
  
1. Скачайте архив проекта (Кнопка Code->Download ZIP)
2. Разархивируйте его
3. Откройте каталог TaskMonopoly-master и в нем при помощи Visual Studio 2022 откройте TaskMonopoly.sln

Далее используя Visual Studio 2022

4. Назначте в качестве запускаемого проекта по умолчанию - проект TaskMonopoly.Console. Для этого, нажмите правой кнопкой мыши на проект TaskMonopoly.Console и в выпадающем меню нажмите кнопку "Set as Startup Project"
5. Запустите проект (кнопка Start в меню сверху или F5 на клавиатуре)

</details>

# Примечания по выполненному заданию

Реализованны пункты:
- (Опционально) Организовать запись и чтение коллекции в/из файл(а).
- (Опционально) Покрыть функционал unit-тестами.

Чтение из файла реализовано следующим образом:
Корневая папка проекта TaskMonopoly.Console содержит файлы PalletsSample.json, Result1.json и Result2.json, которые при сборке проекта копируются в директорию с исполняемым файлом (TaskMonopoly.Console\bin\Debug\net7.0\).

Описание файлов:
- Файл PalletsSample.json содержит пример входных данных, записанных в формате json.
- Файл Result1.json содержит данные вывода по заданию (Сгруппировать все паллеты по сроку годности, отсортировать по возрастанию срока годности, в каждой группе отсортировать паллеты по весу.)
- Файл Result2.json содержит данные вывода по заданию (3 паллеты, которые содержат коробки с наибольшим сроком годности, отсортированные по возрастанию объема.)

Эти файлы должны находится в директории с исполняемым файлом.

При желании, данные в файле PalletsSample.json (который находится в директории с исполняемым файлом (при запуске исполняемого файла), или который находится в корне проекта TaskMonopoly.Console (при запуске через Visual Studio или через консоль)) можно изменять, однако измененные данные должны иметь схожую структуру с изначальной. При этом:
- Наличие Id у паллет не обязательно, если свойство не будет указано, то оно будет сгенерировано программой.
- Учитывайте, что при каждой сборке приложения этот файл, как и файлы Result1.json и Result2.json будут заменены.

# Известные проблемы

По какой-то причине. При первом запуске приложения, используя консоль (через команду dotnet run), файлы Result1.json и Result2.json не заполняются значениями.

# Используемые технологии

- Entity Framework InMemory
- AutoMapper
- MediatR
- AutoFixture
- Shouldly
- xunit
- Newtonsoft.Json
- FluentValidation
